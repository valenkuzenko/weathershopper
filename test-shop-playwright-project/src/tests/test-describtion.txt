Test Description:
This test simulates an automated workflow for purchasing skincare products based on the current temperature.
The test navigates through a skincare shopping website and verifies the successful purchase of moisturizers or sunscreens
depending on the temperature conditions.

------------------------------------------------------------------------------------------------------------------------
Steps:

Initialization:
- Initialize the required page objects (MainPage, CataloguePage, CheckoutPage, PayWithCardIframePopup, ConfirmationPage)
for structured test execution.

Navigate to Website:
- Navigate to the skincare shopping website (https://weathershopper.pythonanywhere.com/).
- Verify the title of the main page to ensure correct navigation.

Check Current Temperature:
- Get the current temperature from the website.
- Determine the skincare products needed based on temperature:
Condition 1: If the temperature is below 19째C, select moisturizers with Aloe and Almond.
Condition 2:If the temperature is above 34째C, select sunscreens with SPF-50 and SPF-30.
- If the temperature is between 19째C and 34째C, refresh the page until temperature belongs to one of the mentioned conditions.

Select Skincare Products:
- Click on the appropriate category button (Buy Moisturizers or Buy Sunscreens).
- Wait for the respective category page to load and verify the page title.

Verify Empty Cart:
- Ensure that the shopping cart is empty before adding items.

Select Second Target Item:
- If the least expensive second target item (moisturizer with almond or sunscreen with SPF-30) is not present at the page,
refresh the catalogue page until it is found. (we do this first, as refresh clears the cart, and we need to see both items in it)
- Add the item to the shopping cart.

Select First Target Item:
- Find and add the least expensive first target item (Aloe moisturizer or sunscreen with SPF-50) to the shopping cart.

Verify Cart Contents:
Confirm that both items are successfully added to the cart.
Verify that the cart contains exactly 2 items.

Proceed to Checkout:
Click on the cart button to proceed to checkout.

Verify Checkout Page:
- Wait for the checkout page to load and verify the page title.
- Verify that the table displays the selected items.
- Calculate the expected total based on the selected items and verify the displayed total.

Proceed to Payment:
- Click on the "Pay with Card" button to initiate the payment process.

Fill Payment Details:
- Wait for the payment popup to load and verify its presence.
- Enter fake email address and randomly generated card details for payment.

Verify Payment Success:
- Wait for the confirmation page to load and verify the payment result as "PAYMENT SUCCESS".

Expected Outcome:
The test is expected to navigate through the website, select appropriate skincare products based on temperature,
add them to the cart, proceed through the checkout process, and successfully complete the payment.
